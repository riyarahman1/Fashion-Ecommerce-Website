{% extends 'adminside/adminbase.html' %}

{% block content %}

<div class="content-header sty-one" style="margin-top: 64px;">
  <h1 class="text-black" style="
  font-weight: 500;">Coupon</h1>
  <!-- <ol class="breadcrumb">
    <li><a href="adminhome">Home</a></li>
    <li class="sub-bread"><i class="fa fa-angle-right"></i>User Management</li>
    <li><i class="fa fa-angle-right"></i>Userlist</li>
  </ol> -->
</div>
<div class="container">
      <td><a href="add_coupon"><button type="submit" class="btn" style="background-color: #252932; color:white ;">Add Coupon</button></a></td>
  <table class="table table-hover" style="margin-left: 82px;margin-top: 48px;max-width: 90%;">
    <thead class="thead-dark" style="background-color: #252932;">
      <tr>
        <th scope="col">code</th>
        <th scope="col">Discount</th>
        <th scope="col">Active/Inactive</th>
        <th scope="col">Delete</th>
      </tr>
    </thead>
    <tbody>
      {% for x in coupons %}
      <tr>
        <td>{{x.coupon_code}}</td>
        <!-- <td>{{x.valid_from}}</td> -->
        <!-- <td>{{x.valid_to}}</td> -->
        <td>{{x.discount_percentage}}</td>

        {% if x.is_active %}
        <td><a onclick="couponactive({{x.id}})" class="btn btn-secondary btn-lg active " role="button"
            aria-pressed="true" style="background-color: #252932; color:white ;">Block_offer</a</td>
            {% else %}
        <td><a onclick="couponinactive({{x.id}})" class="btn btn-secondary btn-lg active" role="button"
            aria-pressed="true" style="background-color: #252932; color:white ;">Unblock_offer</a</td>
            {% endif %}
        <td><a onclick="deletecoupon({{x.id}})" class="btn btn-secondary btn-lg active" role="button"
            aria-pressed="true" style="background-color: #252932; color:white ;">Delete</a</td>
            <!-- <td><a href="edit_offer/{{x.id}}" class="btn btn-secondary btn-lg active" role="button" aria-pressed="true">edit</a</td> -->
      </tr>
      {% endfor %}
      <!-- <a href="add_coupon" class="btn btn-secondary btn-lg active" role="button" aria-pressed="true">add</a</td> -->
      <!-- <td><a href="add_coupon"><button type="submit" class="btn btn-warning">Add Coupon</button></a></td> -->
    </tbody>
  </table>
</div>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

<!-- </div>
</div> -->

<!-- ///////////couponactive//////////////-->
<script>
  function couponactive(id) {

    swal({
      title: "Are You Sure want to Block",
      text: "",
      icon: "warning",
      buttons: true,
      dangerMode: true,
    })
      .then((willDelete) => {
        if (willDelete) {
          swal("COMPLETED", {
            icon: "success",



          }).then(() => {
            window.location.href = "block_coupon/" + id
          })


        } else {
          swal("ENTRY DOESN'T DELETED");
        }
      });
  }
</script>

<!--//////////// couponinactive//////////// -->
<script>
  function couponinactive(id) {

    swal({
      title: "Are You Sure want to Unblock",
      text: "",
      icon: "warning",
      buttons: true,
      dangerMode: true,
    })
      .then((willDelete) => {
        if (willDelete) {
          swal("COMPLETED", {
            icon: "success",



          }).then(() => {
            window.location.href = "block_coupon/" + id
          })


        } else {
          swal("ENTRY DOESN'T DELETED");
        }
      });
  }
</script>
<!-- //////////////delete//////////// -->
<script>
  function deletecoupon(id) {

    swal({
      title: "Are You Sure want to Delete",
      text: "",
      icon: "warning",
      buttons: true,
      dangerMode: true,
    })
      .then((willDelete) => {
        if (willDelete) {
          swal("COMPLETED", {
            icon: "success",



          }).then(() => {
            window.location.href = "delete_coupon/" + id
          })


        } else {
          swal("ENTRY DOESN'T DELETED");
        }
      });
  }
</script>

{% endblock %}